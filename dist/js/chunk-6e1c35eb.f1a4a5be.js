(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e1c35eb"],{6795:function(e,a,t){},da7e:function(e,a,t){"use strict";t("6795")},e456:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("vx-card",{attrs:{title:""}},[t("div",{staticClass:"demo-alignment"},e._l(e.unreadNotifications,(function(a,n){return t("vs-list",{key:n,staticClass:"listIcon"},[t("feather-icon",{attrs:{icon:a.icon,svgClasses:["text-"+a.category,"stroke-current mr-1 h-6 w-6"]}}),t("h6",{staticClass:"font-medium block notification-title mb-2",class:["text-"+a.category],staticStyle:{cursor:"pointer"},on:{click:function(t){return e.$router.push(a.src_url)}}},[e._v(e._s(a.title))]),t("small",[e._v(e._s(a.msg))])],1)})),1)])},r=[],i=(t("ac6a"),t("59ca")),o=t.n(i),s=(t("ea7b"),t("caf0"),t("9d63"),t("b76a"),t("c1df")),c=t.n(s),d={data:function(){return{uid:localStorage.getItem("uid"),notificationCount:0,unreadNotifications:[]}},methods:{seenMasag:function(){},unRead:function(){var e=this;o.a.firestore().collection("notification").where("receiver_id","==",this.uid).where("isSeen","==",!1).orderBy("created_at","desc").get().then((function(a){e.notificationCount=a.size}))},elapsedTime:function(e){var a=new Date(e),t=new Date,n=t-a;n/=1e3;var r=Math.round(n);n=Math.floor(n/60);var i=Math.round(n%60);n=Math.floor(n/60);var o=Math.round(n%24);n=Math.floor(n/24);var s=Math.round(n%365);n=Math.floor(n/365);var c=n;return c>0?c+(c>1?" Years ":" Year ")+"ago":s>0?s+(s>1?" Days ":" Day ")+"ago":o>0?o+(o>1?" Hrs ":" Hour ")+"ago":i>0?i+(i>1?" Mins ":" Min ")+"ago":r>0?r+(r>1?" sec ago":"just now"):"Just Now"},randomDate:function(e){var a=e.hr,t=e.min,n=e.sec,r=new Date;return a&&r.setHours(r.getHours()-a),t&&r.setMinutes(r.getMinutes()-t),n&&r.setSeconds(r.getSeconds()-n),r}},created:function(){var e=this;"admin"==localStorage.getItem("userRole")&&o.a.firestore().collection("notification").get().then((function(e){e.forEach((function(e){e.ref.update({isAdminSeen:!0})}))})),this.notificationCount=0;var a=localStorage.getItem("userRole");if("admin"==a){var t=o.a.firestore().collection("notification");t.orderBy("created_at","desc").onSnapshot((function(t){e.notify=[];var n=0;t.forEach((function(t){if("mealPlan"!=t.data()["type"]&&"chat"!=t.data()["type"]){var r=t.data()["created_at"],i={url:t.data()["url"],id:t.id,index:n+1,src_url:t.data()["url"],title:"admin"==a&&"assign_trainer_admin"==t.data()["type"]?t.data()["sender_name"]+t.data()["description"]+" "+t.data()["receiver_name"]:t.data()["sender_name"],msg:t.data()["description"],icon:"mealPlan"==t.data()["type"]?"ListIcon":"chat"==t.data()["type"]?"MessageSquareIcon":"UserIcon",time:c()(new Date(1e3*r.seconds)).format("ddd MMM DD  YYYY H:mm:ss"),category:"primary"};e.unreadNotifications.push(i)}})),e.unRead()}))}else{var n=o.a.firestore().collection("notification");n=n.where("receiver_id","==",this.uid),n.orderBy("created_at","desc").onSnapshot((function(t){e.notify=[];var n=0;t.forEach((function(t){var r=t.data()["created_at"],i={url:t.data()["url"],id:t.id,index:n+1,src_url:t.data()["url"],title:"member"!=a&&"trainer"!=a||"chat"!=t.data()["type"]?"admin"==a&&"chat"==t.data()["type"]?t.data()["sender_name"]+" send message to "+t.data()["receiver_name"]:"member"!=a&&"admin"!=a||"assign_trainer"!=t.data()["type"]?"trainer"==a&&"assign_trainer"==t.data()["type"]?t.data()["sender_name"]+" "+t.data()["description"]:t.data()["sender_name"]:t.data()["sender_name"]+t.data()["description"]+" "+t.data()["receiver_name"]:" You have message from "+t.data()["sender_name"],msg:t.data()["description"],icon:"mealPlan"==t.data()["type"]?"ListIcon":"chat"==t.data()["type"]?"MessageSquareIcon":"UserIcon",time:c()(new Date(1e3*r.seconds)).format("ddd MMM DD  YYYY H:mm:ss"),category:"primary"};e.unreadNotifications.push(i)})),e.unRead()}))}}},u=d,l=(t("da7e"),t("2877")),f=Object(l["a"])(u,n,r,!1,null,null,null);a["default"]=f.exports}}]);
//# sourceMappingURL=chunk-6e1c35eb.f1a4a5be.js.map